# Команды для работы с Gitify

Перечень комманд

* [init](#init)
* [build](#build)
* [extract](#extract)
* [backup](#backup)
* [restore](#restore)
* [modx:install](#modx:install)
* [package:install](#package:install)

## init

Генерирует файл .gitify. Спрашивает, какие сущности сохранять в базу.

`gitify init [options]`     
- --overwrite - перезапишет существующий файл конфигурации

## build

Загрузит данные из файлов в базу Modx

`gititfy build [options] [<partitions>...]`       
options:     
- `-f`, `--force` Удалит весь существующий контент, прежде чем загрузит новый
- `--no-backup` Пропускает создание бэкапа при использовании флага `--force`
- `--no-cleanup`  Не удаляет файлы из базы данных, которые более не существуют в файлах

`partitions` - Разделы (по именам папок), которые будут загружены. Разделяются пробелом.


## extract

Достаёт данные из базы, в соответствии с .gitify, и сохраняет их удобные, человеко-читаемые файлы.

`gitify extract [<partitions>...]`       

`partitions` - Разделы (по именам папок), которые будут выгружены. Разделяются пробелом.

## backup

`gitify backup [options] [<name>]`

options: 
- `-o`, `--overwrite` - Если бэкап с таким именем существует, то он будет перезаписан
- `-c`, `--compress` - Файл бэкапа будет сжат с помощью gzip
- `-ntbs`, `--no-tablespaces` - Для Mysql ^5.7.31 требуется доступ `PROCESS` чтобы сделать бэкап табличных пространств, с этим параметром проигнорирует их

`name` - Опциональное имя для файла бэкапа. Если не задано, то будет использована временная метка.

## restore

`gitify restore [<file>]`

`file` - Имя файла для восстановления бэкапа, если не задано, то отобразит список доступных бэкапов. Если указано `last`, то будет использован последний отредактированный файл бэкапа.

## modx:install

`gitify modx:install [options] [<version>]`

options:
- `-c`, `--config=CONFIG` - Путь до XML конфиг файла, если он задан, то в течении настройки Gitify не будет спрашивать данные для установки
- `-d`, `--download` - Принудительно скачает MODX, даже если он уже существует в папке с кешем

`version` - Версия Modx в слудющем формате: `2.8.4-pl`, Если не задана, то будет установлена последняя, стабильная версия.

## package:install

`gitify package:install [options] [<package_name>]`

options:
- `-all` -  Будут установлены все имеющиеся пакеты, которые находятся в папке `MODX_CORE_PATH/packages`, а так же площадки для пакетов Modx (Например modx.com или modstore.pro), то, что указано в .gitify
- `-l`, `--local` - Будут установлены все пакеты, которые находятся в папке `MODX_CORE_PATH/packages`

`package_name` - Название пакета для установки